<button type="@Type"
        class="@CssClass"
        disabled="@Disabled"
        @onclick="OnClick"
        @attributes="AdditionalAttributes">
    @ChildContent
</button>

@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public ButtonVariant Variant { get; set; } = ButtonVariant.Primary;
    [Parameter] public ButtonSize Size { get; set; } = ButtonSize.Default;
    [Parameter] public bool Block { get; set; }
    [Parameter] public bool Disabled { get; set; }
    [Parameter] public string Type { get; set; } = "button";
    [Parameter] public EventCallback<MouseEventArgs> OnClick { get; set; }
    [Parameter(CaptureUnmatchedValues = true)] public Dictionary<string, object>? AdditionalAttributes { get; set; }

    private string CssClass
    {
        get
        {
            var classes = new List<string> { "btn" };
            classes.Add(Variant switch
            {
                ButtonVariant.Primary => "btn-primary",
                ButtonVariant.Secondary => "btn-secondary",
                ButtonVariant.Outline => "btn-outline",
                ButtonVariant.Ghost => "btn-ghost",
                _ => "btn-primary"
            });
            if (Size == ButtonSize.Small) classes.Add("btn-sm");
            if (Size == ButtonSize.Large) classes.Add("btn-lg");
            if (Block) classes.Add("btn-block");
            return string.Join(" ", classes);
        }
    }
}
